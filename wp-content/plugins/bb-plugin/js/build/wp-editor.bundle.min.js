!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=18)}({18:function(e,t,n){"use strict";n(19),n(20),n(24)},19:function(e,t,n){"use strict";var o=wp.data.registerStore,r={launching:!1},i={setLaunching:function(e){return{type:"SET_LAUNCHING",launching:e}}},c={isLaunching:function(e){return e.launching}};o("fl-builder",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case"SET_LAUNCHING":e.launching=t.launching}return e},actions:i,selectors:c})},20:function(e,t,n){"use strict";var o=n(21),r=n(22);n(23);var i=FLBuilderConfig,c=i.builder,u=i.strings,l=FLBuilderConfig.wp.version,s=wp.blocks.registerBlockType,a=wp.element.RawHTML;(c.access&&c.unrestricted||c.enabled)&&s("fl-builder/layout",{title:u.title,description:u.description,icon:"welcome-widgets-menus",category:"layout",useOnce:!0,supports:{customClassName:!1,className:!1,html:!1},attributes:{content:{type:"string",source:"html"}},edit:function(){return parseFloat(l)<5.3?r.LayoutBlockEditConnectedPre_5_3:o.LayoutBlockEditConnected}(),save:function(e){var t=e.attributes;return React.createElement(a,null,t.content)}})},21:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=FLBuilderConfig,l=u.builder,s=u.strings,a=u.urls,p=wp.blocks,f=p.rawHandler,d=p.serialize,h=wp.components,b=h.Button,v=h.Placeholder,m=h.Spinner,y=wp.compose.compose,k=wp.data,g=k.withDispatch,w=k.withSelect,B=wp.element.Component,_=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"componentDidMount",value:function(){1===this.props.blockCount&&this.toggleEditor("disable")}},{key:"componentWillUnmount",value:function(){this.toggleEditor("enable")}},{key:"render",value:function(){var e=this.props,t=e.blockCount,n=(e.onReplace,e.isLaunching),o=void 0,r=void 0,i=void 0;return 1===t?(o=l.access?s.launch:s.view,r=this.launchBuilder.bind(this)):(o=s.convert,r=this.convertToBuilder.bind(this)),i=l.enabled?s.active:s.description,!1===l.showui?"":React.createElement(v,{key:"placeholder",instructions:i,icon:"welcome-widgets-menus",label:s.title,className:"fl-builder-layout-launch-view"},n&&React.createElement(m,null),!n&&React.createElement(b,{isLarge:!0,isPrimary:!0,type:"submit",onClick:r},o),!n&&React.createElement(b,{isLarge:!0,type:"submit",onClick:this.convertToBlocks.bind(this)},s.editor))}},{key:"toggleEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"enable",t=document.body.classList,n="fl-builder-layout-enabled";"enable"===e?t.contains(n)&&t.remove(n):t.contains(n)||t.add(n)}},{key:"launchBuilder",value:function(){var e=this.props,t=e.savePost;(0,e.setLaunching)(!0),t().then(function(){setTimeout(function(){window.location.href=l.access?a.edit:a.view},2e3)})}},{key:"convertToBuilder",value:function(){var e=this.props,t=e.clientId,n=e.blocks,o=e.setAttributes,r=e.removeBlocks,i=d(n),c=n.map(function(e){return e.clientId}).filter(function(e){return e!==t});o({content:i.replace(/<!--(.*?)-->/g,"")}),r(c),this.launchBuilder()}},{key:"convertToBlocks",value:function(){var e=this.props,t=e.attributes,n=e.clientId,o=e.replaceBlocks,r=e.onReplace;t.content&&!confirm(s.warning)||(t.content?o([n],f({HTML:t.content,mode:"BLOCKS"})):r([]))}}]),t}(B);t.LayoutBlockEditConnected=y(g(function(e,t){var n=e("core/block-editor"),o=e("core/editor"),r=e("fl-builder");return{removeBlocks:n.removeBlocks,replaceBlocks:n.replaceBlocks,savePost:o.savePost,setLaunching:r.setLaunching}}),w(function(e){var t=e("core/block-editor"),n=(e("core/editor"),e("fl-builder"));return{blockCount:t.getBlockCount(),blocks:t.getBlocks(),isLaunching:n.isLaunching()}}))(_)},22:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=FLBuilderConfig,l=u.builder,s=u.strings,a=u.urls,p=wp.blocks,f=p.rawHandler,d=p.serialize,h=wp.components,b=h.Button,v=h.Placeholder,m=h.Spinner,y=wp.compose.compose,k=wp.data,g=k.subscribe,w=k.withDispatch,B=k.withSelect,_=wp.element.Component,P=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.unsubscribe=g(e.storeDidUpdate.bind(e)),e}return i(t,e),c(t,[{key:"storeDidUpdate",value:function(){var e=this.props,t=e.isLaunching,n=e.isSavingPost;t&&!n&&(this.unsubscribe(),this.redirectToBuilder())}},{key:"componentDidMount",value:function(){1===this.props.blockCount&&this.toggleEditor("disable")}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.toggleEditor("enable")}},{key:"render",value:function(){var e=this.props,t=e.blockCount,n=(e.onReplace,e.isLaunching),o=void 0,r=void 0,i=void 0;return 1===t?(o=l.access?s.launch:s.view,r=this.launchBuilder.bind(this)):(o=s.convert,r=this.convertToBuilder.bind(this)),i=l.enabled?s.active:s.description,!1===l.showui?"":React.createElement(v,{key:"placeholder",instructions:i,icon:"welcome-widgets-menus",label:s.title,className:"fl-builder-layout-launch-view"},n&&React.createElement(m,null),!n&&React.createElement(b,{isLarge:!0,isPrimary:!0,type:"submit",onClick:r},o),!n&&React.createElement(b,{isLarge:!0,type:"submit",onClick:this.convertToBlocks.bind(this)},s.editor))}},{key:"toggleEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"enable",t=document.body.classList,n="fl-builder-layout-enabled";"enable"===e?t.contains(n)&&t.remove(n):t.contains(n)||t.add(n)}},{key:"redirectToBuilder",value:function(){window.location.href=l.access?a.edit:a.view}},{key:"launchBuilder",value:function(){var e=this.props,t=e.savePost;(0,e.setLaunching)(!0),t()}},{key:"convertToBuilder",value:function(){var e=this.props,t=e.clientId,n=e.blocks,o=e.setAttributes,r=e.removeBlocks,i=d(n),c=n.map(function(e){return e.clientId}).filter(function(e){return e!==t});o({content:i.replace(/<!--(.*?)-->/g,"")}),r(c),this.launchBuilder()}},{key:"convertToBlocks",value:function(){var e=this.props,t=e.attributes,n=e.clientId,o=e.replaceBlocks,r=e.onReplace;t.content&&!confirm(s.warning)||(t.content?o([n],f({HTML:t.content,mode:"BLOCKS"})):r([]))}}]),t}(_);t.LayoutBlockEditConnectedPre_5_3=y(w(function(e,t){var n=e("core/editor"),o=e("fl-builder");return{savePost:n.savePost,removeBlocks:n.removeBlocks,replaceBlocks:n.replaceBlocks,setLaunching:o.setLaunching}}),B(function(e){var t=e("core/editor"),n=e("fl-builder");return{blockCount:t.getBlockCount(),blocks:t.getBlocks(),isSavingPost:t.isSavingPost(),isLaunching:n.isLaunching()}}))(P)},23:function(e,t){},24:function(e,t,n){"use strict";var o=n(25),r=n(26),i=FLBuilderConfig.wp.version,c=wp.plugins.registerPlugin;c("fl-builder-plugin-sidebar",{icon:"welcome-widgets-menus",render:function(){return parseFloat(i)<5.3?r.BuilderMoreMenuItemConnectedPre_5_3:o.BuilderMoreMenuItemConnected}()})},25:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=FLBuilderConfig,l=u.builder,s=u.strings,a=u.urls,p=wp.blocks,f=p.createBlock,d=p.serialize,h=(wp.components.Button,wp.compose.compose),b=wp.data,v=b.withDispatch,m=b.withSelect,y=wp.editPost.PluginMoreMenuItem,k=wp.element.Component,g=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){return React.createElement(y,{onClick:this.menuItemClicked.bind(this)},this.hasBuilderBlock()?s.launch:s.convert)}},{key:"hasBuilderBlock",value:function(){return!!this.props.blocks.filter(function(e){return"fl-builder/layout"===e.name}).length}},{key:"menuItemClicked",value:function(){this.hasBuilderBlock()?this.launchBuilder():this.convertToBuilder()}},{key:"convertToBuilder",value:function(){var e=this.props,t=e.blocks,n=e.insertBlock,o=e.removeBlocks,r=t.map(function(e){return e.clientId}),i=d(t).replace(/<!--(.*?)-->/g,"");n(f("fl-builder/layout",{content:i}),0),o(r)}},{key:"launchBuilder",value:function(){var e=this.props,t=e.savePost;(0,e.setLaunching)(!0),t().then(function(){setTimeout(function(){window.location.href=l.access?a.edit:a.view},2e3)})}}]),t}(k);t.BuilderMoreMenuItemConnected=h(v(function(e,t){var n=e("core/block-editor"),o=e("core/editor"),r=e("fl-builder");return{insertBlock:n.insertBlock,removeBlocks:n.removeBlocks,savePost:o.savePost,setLaunching:r.setLaunching}}),m(function(e){return{blocks:e("core/block-editor").getBlocks()}}))(g)},26:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BuilderMoreMenuItemConnectedPre_5_3=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(27);var u=FLBuilderConfig,l=u.strings,s=wp.blocks,a=s.createBlock,p=s.serialize,f=(wp.components.Button,wp.compose.compose),d=wp.data,h=d.withDispatch,b=d.withSelect,v=wp.editPost.PluginSidebarMoreMenuItem,m=wp.element.Component,y=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){return React.createElement(v,null,React.createElement("div",{className:"fl-builder-plugin-sidebar-button",onClick:this.menuItemClicked.bind(this)}),this.hasBuilderBlock()?l.launch:l.convert)}},{key:"hasBuilderBlock",value:function(){return!!this.props.blocks.filter(function(e){return"fl-builder/layout"===e.name}).length}},{key:"menuItemClicked",value:function(){var e=this.props.closeGeneralSidebar;this.hasBuilderBlock()?this.launchBuilder():this.convertToBuilder(),setTimeout(e,100)}},{key:"convertToBuilder",value:function(){var e=this.props,t=e.blocks,n=e.insertBlock,o=e.removeBlocks,r=t.map(function(e){return e.clientId}),i=p(t).replace(/<!--(.*?)-->/g,"");n(a("fl-builder/layout",{content:i}),0),o(r)}},{key:"launchBuilder",value:function(){var e=this.props,t=e.savePost;(0,e.setLaunching)(!0),t()}}]),t}(m);t.BuilderMoreMenuItemConnectedPre_5_3=f(h(function(e,t){var n=e("core/editor"),o=e("core/edit-post"),r=e("fl-builder");return{savePost:n.savePost,insertBlock:n.insertBlock,removeBlocks:n.removeBlocks,closeGeneralSidebar:o.closeGeneralSidebar,setLaunching:r.setLaunching}}),b(function(e){return{blocks:e("core/editor").getBlocks()}}))(y)},27:function(e,t){}});